(this["webpackJsonpmovie-db3"]=this["webpackJsonpmovie-db3"]||[]).push([[0],{81:function(e,t,c){},82:function(e,t,c){},84:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c.n(a),i=c(55),n=c.n(i),r=c(29),l=c(6),o=c(100),d=c(62),j=c.n(d),h=c(56),b=c.n(h),O=c(1),m=function(){return Object(O.jsx)("header",{children:Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{className:"inner-content",children:[Object(O.jsx)("div",{className:"brand",children:Object(O.jsx)(r.b,{to:"/",children:Object(O.jsxs)("div",{className:"header-title",children:[Object(O.jsx)(b.a,{className:"title-icon",fontSize:"large"}),"Movie database"]})})}),Object(O.jsxs)("ul",{className:"nav-links",children:[Object(O.jsx)("li",{children:Object(O.jsx)(r.b,{to:"/",className:"btn-add-movie",children:"Latest movies"})}),Object(O.jsx)("li",{children:Object(O.jsx)(r.b,{to:"/watchlist",className:"btn-add-movie",children:"Watch List"})}),Object(O.jsx)("li",{children:Object(O.jsx)(r.b,{to:"/watched",className:"btn-add-movie",children:"Watched"})}),Object(O.jsx)("li",{children:Object(O.jsx)(r.b,{to:"/add",children:Object(O.jsxs)(o.a,{variant:"contained",color:"success",children:["Add Movie",Object(O.jsx)(j.a,{})]})})})]})]})})})},v=c(18),u=c(8),x=function(e){var t=e.title,c=e.poster_path,a=e.overview,s=e.vote_average,i=e.release_date;return Object(O.jsxs)("div",{className:"result-card movie",children:[Object(O.jsx)("div",{className:"poster-wrapper",children:Object(O.jsx)("img",{src:c?"https://image.tmdb.org/t/p/w1280"+c:"https://images.unsplash.com/photo-1512412632857-b93f6ecce335?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80",alt:t})}),Object(O.jsx)("div",{className:"info",children:Object(O.jsxs)("div",{className:"movie-card-header",children:[Object(O.jsxs)("div",{className:"movie-header",children:[Object(O.jsx)("h3",{className:"title",children:t}),Object(O.jsx)("span",{className:"vote-average",children:s})]}),Object(O.jsx)("div",{className:"release-date",children:i?"This movie was released in ".concat(i.substring(0,4)):"No release date"}),Object(O.jsxs)("div",{className:"movie-over",children:[Object(O.jsx)("h2",{children:"Overview"}),Object(O.jsx)("p",{children:a})]})]})})]})},f=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),c=t[0],s=t[1];Object(a.useEffect)((function(){i("https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=071148fb28ba2fcf7575e6c281c7647a&page=1")}),[]);var i=function(e){fetch(e).then((function(e){return e.json()})).then((function(e){s(e.results)}))};return Object(O.jsx)("div",{className:"movie-page",children:Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("div",{className:"header",children:Object(O.jsx)("h1",{className:"heading",children:"Latest movies on cinema"})}),Object(O.jsx)("div",{className:"add-content",children:c.length>0&&Object(O.jsx)("ul",{className:"results",children:c.map((function(e){return Object(O.jsx)("li",{children:Object(O.jsx)(x,Object(v.a)({},e))},c.id)}))})})]})})},p=c(16),w=function(e,t){switch(t.type){case"ADD_MOVIE_TO_WATCHLIST":return Object(v.a)(Object(v.a)({},e),{},{watchlist:[t.payload].concat(Object(p.a)(e.watchlist))});case"REMOVE_MOVIE_FROM_WATCHLIST":return Object(v.a)(Object(v.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload}))});case"ADD_MOVIE_TO_WATCHED":return Object(v.a)(Object(v.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload.id})),watched:[t.payload].concat(Object(p.a)(e.watched))});case"MOVE_TO_WATCHLIST":return Object(v.a)(Object(v.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==t.payload.id})),watchlist:[t.payload].concat(Object(p.a)(e.watchlist))});case"REMOVE_FROM_WATCHED":return Object(v.a)(Object(v.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==t.payload}))});default:return e}},N={watchlist:localStorage.getItem("watchlist")?JSON.parse(localStorage.getItem("watchlist")):[],watched:localStorage.getItem("watched")?JSON.parse(localStorage.getItem("watched")):[]},g=Object(a.createContext)(N),y=function(e){var t=Object(a.useReducer)(w,N),c=Object(u.a)(t,2),s=c[0],i=c[1];Object(a.useEffect)((function(){localStorage.setItem("watchlist",JSON.stringify(s.watchlist)),localStorage.setItem("watched",JSON.stringify(s.watched))}),[s]);return Object(O.jsx)(g.Provider,{value:{watchlist:s.watchlist,watched:s.watched,addMovieToWatchlist:function(e){i({type:"ADD_MOVIE_TO_WATCHLIST",payload:e})},removeMovieFromWatchlist:function(e){i({type:"REMOVE_MOVIE_FROM_WATCHLIST",payload:e})},addMovieToWatched:function(e){i({type:"ADD_MOVIE_TO_WATCHED",payload:e})},moveToWatchlist:function(e){i({type:"MOVE_TO_WATCHLIST",payload:e})},removeFromWatched:function(e){i({type:"REMOVE_FROM_WATCHED",payload:e})}},children:e.children})},T=function(e){var t=e.movie,c=e.type,s=Object(a.useContext)(g),i=s.removeMovieFromWatchlist,n=s.addMovieToWatched,r=s.moveToWatchlist,l=s.removeFromWatched;return Object(O.jsxs)("div",{className:"inner-card-controls",children:["watchlist"===c&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:"ctrl-btn",onClick:function(){return n(t)},children:Object(O.jsx)("i",{className:"fa-fw far fa-eye"})}),Object(O.jsx)("button",{className:"ctrl-btn",onClick:function(){return i(t.id)},children:Object(O.jsx)("i",{className:"fa-fw fa fa-times"})})]}),"watched"===c&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:"ctrl-btn",onClick:function(){return r(t)},children:Object(O.jsx)("i",{className:"fa-fw far fa-eye-slash"})}),Object(O.jsx)("button",{className:"ctrl-btn",onClick:function(){return l(t.id)},children:Object(O.jsx)("i",{className:"fa-fw fa fa-times"})})]})]})},_=function(e){var t=e.movie,c=e.type;return Object(O.jsxs)("div",{className:"movie-card",children:[Object(O.jsx)("div",{className:"overlay"}),t.poster_path?Object(O.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w1280"+t.poster_path),alt:"{movie.title}"}):Object(O.jsx)("img",{src:"https://images.unsplash.com/photo-1512412632857-b93f6ecce335?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80",alt:"{movie.title}"}),Object(O.jsx)(T,{type:c,movie:t})]})},M=function(){var e=Object(a.useContext)(g).watchlist;return Object(O.jsx)("div",{className:"movie-page",children:Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("div",{className:"header",children:Object(O.jsx)("h1",{className:"heading",children:"My watchlist"})}),Object(O.jsx)("div",{className:"header-count-pill",children:Object(O.jsx)("div",{className:"count-pill",children:0===e.length?"There are no movies on your list.":1===e.length?"There is only ".concat(e.length," movie on your list."):"There are ".concat(e.length," movies in your list. Enjoy watching!")})}),e.length>0?Object(O.jsx)("div",{className:"movie-grid",children:e.map((function(e){return Object(O.jsx)(_,{movie:e,type:"watchlist"})}))}):Object(O.jsx)("h2",{className:"no-movies",children:'It\'s quiet here. Go to "add movie" to add some movies!'})]})})},W=function(){var e=Object(a.useContext)(g).watched;return Object(O.jsx)("div",{className:"movie-page",children:Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("div",{className:"header",children:Object(O.jsx)("h1",{className:"heading",children:"Watched movies"})}),Object(O.jsx)("div",{className:"header-count-pill",children:Object(O.jsx)("div",{className:"count-pill",children:0===e.length?"There are no movies on your list.":1===e.length?"There is only ".concat(e.length," movie on your list."):"There are ".concat(e.length," movies in your list.")})}),e.length>0?Object(O.jsx)("div",{className:"movie-grid",children:e.map((function(e){return Object(O.jsx)(_,{movie:e,type:"watched"})}))}):Object(O.jsx)("h2",{className:"no-movies",children:"You haven't seen any movies yet."})]})})},E=function(e){var t=e.movie,c=Object(a.useContext)(g),s=c.addMovieToWatchlist,i=c.addMovieToWatched,n=c.watchlist,r=c.watched,l=n.find((function(e){return e.id===t.id})),o=r.find((function(e){return e.id===t.id})),d=!!l||!!o,j=!!o;return Object(O.jsxs)("div",{className:"result-card movie",children:[Object(O.jsx)("div",{className:"poster-wrapper",children:t.poster_path?Object(O.jsx)("img",{src:"https://image.tmdb.org/t/p/w1280".concat(t.poster_path),alt:t.title}):Object(O.jsx)("img",{src:"https://images.unsplash.com/photo-1512412632857-b93f6ecce335?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80",alt:"{movie.title}"})}),Object(O.jsx)("div",{className:"info",children:Object(O.jsxs)("div",{className:"movie-card-header",children:[Object(O.jsxs)("div",{className:"movie-header",children:[Object(O.jsx)("h3",{className:"title",children:t.title}),Object(O.jsx)("span",{className:"vote-average",children:t.vote_average})]}),Object(O.jsx)("div",{className:"release-date",children:t.release_date?"This movie was released in ".concat(t.release_date.substring(0,4)):"No release date"}),Object(O.jsxs)("div",{className:"movie-over",children:[Object(O.jsx)("h2",{children:"Overview"}),t.overview?Object(O.jsx)("p",{children:t.overview}):"This movie doesn't have an overview yet.",Object(O.jsxs)("div",{className:"controls",children:[Object(O.jsx)("button",{className:"btn",disabled:d,onClick:function(){return s(t)},children:"Add to Watchlist"}),Object(O.jsx)("button",{className:"btn",disabled:j,onClick:function(){return i(t)},children:"Add to watched"})]})]})]})})]})},S=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),c=t[0],s=t[1],i=Object(a.useState)([]),n=Object(u.a)(i,2),r=n[0],l=n[1];return Object(O.jsx)("div",{className:"add-page",children:Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{className:"add-content",children:[Object(O.jsx)("div",{className:"input-wrapper",children:Object(O.jsx)("input",{type:"text",placeholder:"What movie do you want to see today?",value:c,onChange:function(e){e.preventDefault(),s(e.target.value),fetch("https://api.themoviedb.org/3/search/movie?api_key=071148fb28ba2fcf7575e6c281c7647a&language=en-US&page=1&include_adult=true&query=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){e.errors?l([]):l(e.results)}))}})}),r.length>0&&Object(O.jsx)("ul",{className:"results",children:r.map((function(e){return Object(O.jsx)("li",{children:Object(O.jsx)(E,{movie:e})},e.id)}))})]})})})},C=function(){return Object(O.jsx)("footer",{children:Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("div",{className:"inner-content footer",children:"This site was built by Sorin Stanciu using REACT. All Rights Reserved."})})})};c(81),c(82);var A=function(){return Object(O.jsxs)(y,{children:[Object(O.jsxs)(r.a,{children:[Object(O.jsx)(m,{}),Object(O.jsxs)(l.c,{children:[Object(O.jsx)(l.a,{exact:!0,path:"/",children:Object(O.jsx)(f,{})}),Object(O.jsx)(l.a,{path:"/watchlist",children:Object(O.jsx)(M,{})}),Object(O.jsx)(l.a,{path:"/watched",children:Object(O.jsx)(W,{})}),Object(O.jsx)(l.a,{path:"/add",children:Object(O.jsx)(S,{})})]})]}),Object(O.jsx)(C,{})]})};n.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(A,{})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.49ad56ab.chunk.js.map